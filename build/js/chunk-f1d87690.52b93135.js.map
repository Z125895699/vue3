{"version":3,"sources":["webpack:///./src/hooks/use-page-search.ts","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/esm/slicedToArray.js","webpack:///./src/views/main/system/role/role.vue?f81f","webpack:///./src/hooks/use-page-modal.ts","webpack:///./src/views/main/system/role/role.vue?895a","webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/main/system/role/config/search.config.ts","webpack:///./src/views/main/system/role/config/content.config.ts","webpack:///./src/views/main/system/role/config/modal.config.ts","webpack:///./src/views/main/system/role/role.vue","webpack:///./src/views/main/system/role/role.vue?e3dc","webpack:///./src/components/page-modal/src/page-modal.vue?c901","webpack:///./src/components/page-modal/src/page-modal.vue","webpack:///./src/components/page-modal/src/page-modal.vue?fc94","webpack:///./src/components/page-search/index.ts"],"names":["usePageSearch","pageContentRef","queryClick","qureyInfo","value","getPageData","_arrayWithHoles","arr","Array","isArray","_iterableToArrayLimit","i","_i","Symbol","iterator","_s","_e","_arr","_n","_d","call","next","done","push","length","err","_nonIterableRest","TypeError","_slicedToArray","arrayWithHoles","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","pageModalRef","defaultValue","usePageModal","handleNew","handleEdit","headName","handleNewData","dialogVisible","handleEditData","item","_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_component_page_content","_component_el_tree","_component_page_modal","searchFormConfig","onQueryClick","ref","contentTableConfig","onHandleNewClick","onHandleEditClick","pageName","modalConfig","otherInfo","otherInfoRef","default","data","menus","props","children","label","onCheck","handleCheckChange","_","_arrayWithoutHoles","arrayLikeToArray","_iterableToArray","iter","from","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","formItems","field","type","placeholder","title","propList","prop","minWidth","slotName","showSelectColumn","collLayout","span","components","PageSearch","PageContent","PageModal","name","setup","elTreeRef","leafKeys","menuList","setCheckedKeys","undefined","store","state","data1","data2","checkedKeys","halfCheckedKeys","__exports__","_hoisted_3","_hoisted_4","_component_hy_form","_component_el_button","_component_el_dialog","modelValue","$event","width","center","footer","onClick","handleConfirmClick","formData","$slots","HyForm","Object","required","String","newValue","console","log","keys","dispatch","editData","id","creatData"],"mappings":"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","file":"js/chunk-f1d87690.52b93135.js","sourcesContent":["import { ref } from 'vue'\nimport PageContent from '@/components/page-content'\n\nexport function usePageSearch() {\n  //1、搜索查询\n  const pageContentRef = ref<InstanceType<typeof PageContent>>()\n\n  const queryClick = (qureyInfo: any) => {\n    pageContentRef.value?.getPageData(qureyInfo)\n  }\n  return [pageContentRef, queryClick]\n}\n","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  var _i = arr == null ? null : typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"];\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!./role.vue?vue&type=style&index=0&id=5f903d2c&scoped=true&lang=less\"","import { ref } from 'vue'\nimport PageModal from '@/components/page-modal/index'\n\nconst pageModalRef = ref<InstanceType<typeof PageModal>>()\nconst defaultValue = ref({})\n\nexport function usePageModal(\n  handleNew?: any,\n  handleEdit?: any,\n  headName?: any\n) {\n  //新建\n  const handleNewData = () => {\n    // console.log(headName.value)\n    defaultValue.value = {}\n    if (pageModalRef.value) {\n      pageModalRef.value.dialogVisible = true\n      pageModalRef.value.headName = `新建${headName.value}`\n    }\n    handleNew && handleNew()\n  }\n  //编辑\n  const handleEditData = (item: any) => {\n    // console.log('item:', item)\n    defaultValue.value = { ...item }\n    if (pageModalRef.value) {\n      pageModalRef.value.dialogVisible = true\n      pageModalRef.value.headName = `编辑${headName.value}`\n    }\n    // console.log('点击了编辑按钮')\n    handleEdit && handleEdit()\n  }\n  return [pageModalRef, defaultValue, handleNewData, handleEditData]\n}\n","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, withScopeId as _withScopeId, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\n_pushScopeId(\"data-v-5f903d2c\")\nconst _hoisted_1 = { class: \"role\" }\nconst _hoisted_2 = { class: \"menuTree\" }\n_popScopeId()\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_page_search, {\n      searchFormConfig: _ctx.searchFormConfig,\n      onQueryClick: _ctx.queryClick\n    }, null, 8, [\"searchFormConfig\", \"onQueryClick\"]),\n    _createVNode(_component_page_content, {\n      ref: \"pageContentRef\",\n      contentTableConfig: _ctx.contentTableConfig,\n      onHandleNewClick: _ctx.handleNewData,\n      onHandleEditClick: _ctx.handleEditData,\n      pageName: \"role\",\n      headName: \"新建角色\"\n    }, null, 8, [\"contentTableConfig\", \"onHandleNewClick\", \"onHandleEditClick\"]),\n    _createVNode(_component_page_modal, {\n      modalConfig: _ctx.modalConfig,\n      ref: \"pageModalRef\",\n      otherInfo: _ctx.otherInfoRef,\n      pageName: \"role\",\n      defaultValue: _ctx.defaultValue\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_el_tree, {\n            ref: \"elTreeRef\",\n            data: _ctx.menus,\n            \"show-checkbox\": \"\",\n            \"node-key\": \"id\",\n            props: { children: 'children', label: 'name' },\n            onCheck: _ctx.handleCheckChange\n          }, null, 8, [\"data\", \"onCheck\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"modalConfig\", \"otherInfo\", \"defaultValue\"])\n  ]))\n}","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export const searchFormConfig = {\n  formItems: [\n    {\n      //传入类型\n      field: 'name',\n      type: 'input',\n      label: '角色名',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '权限介绍',\n      placeholder: '请输入权限介绍'\n    },\n    {\n      field: 'createAt',\n      type: 'datapicker',\n      label: '创建时间',\n      placeholder: '请输入创建时间范围'\n    }\n  ]\n}\n","export const contentTableConfig = {\n  title: '角色列表',\n  propList: [\n    { prop: 'name', label: '角色名', minWidth: '100' },\n    { prop: 'intro', label: '权限介绍', minWidth: '100' },\n    {\n      prop: 'createAt',\n      label: '创建时间',\n      minWidth: '250',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新时间',\n      minWidth: '250',\n      slotName: 'updateAt'\n    },\n    { label: '操作', minWidth: '150', slotName: 'handle' }\n  ],\n  showSelectColumn: true\n}\n","import { IForm } from '@/base-ui/form'\n\nexport const modalConfig: IForm = {\n  formItems: [\n    {\n      //传入类型  field字段\n      field: 'name',\n      type: 'input',\n      label: '角色名',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '权限介绍',\n      placeholder: '请输入权限介绍'\n    }\n  ],\n  collLayout: { span: 24 }\n}\n","\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport { useStore } from '@/store'\nimport { leafMunuMapKeys } from '@/utils/map-menus'\nimport { ElTree } from 'element-plus'\n\nimport PageSearch from '@/components/page-search'\nimport PageContent from '@/components/page-content/src/page-content.vue'\nimport PageModal from '@/components/page-modal/src/page-modal.vue'\n\nimport { searchFormConfig } from './config/search.config'\nimport { contentTableConfig } from './config/content.config'\nimport { modalConfig } from './config/modal.config'\n\nimport { usePageSearch } from '@/hooks/use-page-search'\nimport { usePageModal } from '@/hooks/use-page-modal'\n\nexport default defineComponent({\n  components: {\n    PageSearch,\n    PageContent,\n    PageModal\n  },\n  name: 'role',\n  setup() {\n    const headName = ref('角色')\n\n    //处理hook的回调  编辑回显  eltree树形\n    const elTreeRef = ref<InstanceType<typeof ElTree>>()\n    const handleEdit = (item: any) => {\n      const leafKeys = leafMunuMapKeys(item.menuList)\n      nextTick(() => {\n        elTreeRef.value?.setCheckedKeys(leafKeys, false)\n      })\n    }\n\n    const [pageContentRef, queryClick] = usePageSearch()\n    const [pageModalRef, defaultValue, handleNewData, handleEditData] =\n      usePageModal(undefined, handleEdit, headName)\n\n    const store = useStore()\n    const otherInfoRef = ref({})\n\n    //tree数据\n    const menus = computed(() => {\n      return store.state.menuList\n    })\n\n    const handleCheckChange = (data1: any, data2: any) => {\n      const checkedKeys = data2.checkedKeys\n      const halfCheckedKeys = data2.halfCheckedKeys\n      const menuList = [...checkedKeys, ...halfCheckedKeys]\n      otherInfoRef.value = { menuList }\n    }\n    return {\n      searchFormConfig,\n      contentTableConfig,\n      modalConfig,\n      pageContentRef,\n      pageModalRef,\n      defaultValue,\n      handleNewData,\n      handleEditData,\n      queryClick,\n      menus,\n      otherInfoRef,\n      handleCheckChange,\n      elTreeRef\n    }\n  }\n})\n","import { render } from \"./role.vue?vue&type=template&id=5f903d2c&scoped=true&ts=true\"\nimport script from \"./role.vue?vue&type=script&lang=ts\"\nexport * from \"./role.vue?vue&type=script&lang=ts\"\n\nimport \"./role.vue?vue&type=style&index=0&id=5f903d2c&scoped=true&lang=less\"\n\nimport exportComponent from \"/Users/zhangdashu/Desktop/work/vue3/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5f903d2c\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, renderSlot as _renderSlot, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = { class: \"page-modal\" }\nconst _hoisted_2 = { class: \"dialog-footer\" }\nconst _hoisted_3 = /*#__PURE__*/_createTextVNode(\"取 消\")\nconst _hoisted_4 = /*#__PURE__*/_createTextVNode(\" 确 定 \")\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_hy_form = _resolveComponent(\"hy-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_dialog, {\n      title: _ctx.headName,\n      modelValue: _ctx.dialogVisible,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => (_ctx.dialogVisible = $event)),\n      width: \"30%\",\n      \"destroy-on-close\": \"\",\n      center: \"\"\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"span\", _hoisted_2, [\n          _createVNode(_component_el_button, {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.dialogVisible = false))\n          }, {\n            default: _withCtx(() => [\n              _hoisted_3\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _ctx.handleConfirmClick\n          }, {\n            default: _withCtx(() => [\n              _hoisted_4\n            ]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_hy_form, _mergeProps(_ctx.modalConfig, {\n          modelValue: _ctx.formData,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => (_ctx.formData = $event))\n        }), null, 16, [\"modelValue\"]),\n        _renderSlot(_ctx.$slots, \"default\")\n      ]),\n      _: 3\n    }, 8, [\"title\", \"modelValue\"])\n  ]))\n}","\nimport { defineComponent, ref, watch } from 'vue'\n\nimport { useStore } from '@/store'\n\nimport HyForm from '@/base-ui/form/src/form.vue'\n\nexport default defineComponent({\n  components: {\n    HyForm\n  },\n  props: {\n    modalConfig: {\n      type: Object,\n      default: () => ({})\n    },\n    defaultValue: {\n      type: Object,\n      required: true\n    },\n    otherInfo: {\n      type: Object,\n      default: () => ({})\n    },\n    pageName: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const dialogVisible = ref(false)\n    const formData = ref<any>({})\n    const headName = ref('')\n    // console.log(props.modalConfig.formItems)\n    // console.log('传值:', props.modalConfig.formItems)\n\n    //监听defaultValue 回显作用\n    //传入为get函数 newValue为一个Proxy对象\n    watch(\n      () => props.defaultValue,\n      (newValue) => {\n        console.log('newValue:', newValue)\n        console.log('传值:', props.modalConfig.formItems)\n        for (const item of props.modalConfig.formItems) {\n          formData.value[`${item.field}`] = newValue[`${item.field}`]\n        }\n      }\n    )\n\n    //确定按钮的逻辑\n    const store = useStore()\n    const handleConfirmClick = () => {\n      dialogVisible.value = false\n      if (Object.keys(props.defaultValue).length) {\n        //编辑\n        store.dispatch('system/editPageDataAction', {\n          pageName: props.pageName,\n          editData: { ...formData.value, ...props.otherInfo },\n          id: props.defaultValue.id\n        })\n      } else {\n        //新建\n        // console.log('新建用户')\n        store.dispatch('system/creatPageDataAction', {\n          pageName: props.pageName,\n          creatData: { ...formData.value, ...props.otherInfo }\n        })\n      }\n    }\n\n    return {\n      dialogVisible,\n      formData,\n      handleConfirmClick,\n      headName\n    }\n  }\n})\n","import { render } from \"./page-modal.vue?vue&type=template&id=4b243f91&ts=true\"\nimport script from \"./page-modal.vue?vue&type=script&lang=ts\"\nexport * from \"./page-modal.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/zhangdashu/Desktop/work/vue3/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import PageSearch from './src/page-search.vue'\n\nexport default PageSearch\n"],"sourceRoot":""}