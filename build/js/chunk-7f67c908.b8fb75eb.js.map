{"version":3,"sources":["webpack:///./src/hooks/use-page-search.ts","webpack:///./src/hooks/use-page-modal.ts","webpack:///./src/views/main/system/role/role.vue?c9c3","webpack:///./src/views/main/system/role/role.vue?2470","webpack:///./src/views/main/system/role/config/search.config.ts","webpack:///./src/views/main/system/role/config/content.config.ts","webpack:///./src/views/main/system/role/config/modal.config.ts","webpack:///./src/views/main/system/role/role.vue","webpack:///./src/views/main/system/role/role.vue?0a22","webpack:///./src/components/page-modal/src/page-modal.vue?585e","webpack:///./src/components/page-modal/src/page-modal.vue","webpack:///./src/components/page-modal/src/page-modal.vue?fdc8","webpack:///./src/components/page-search/index.ts"],"names":["usePageSearch","pageContentRef","ref","queryClick","qureyInfo","value","getPageData","pageModalRef","defaultValue","usePageModal","handleNew","handleEdit","headName","handleNewData","dialogVisible","handleEditData","item","_hoisted_1","class","_hoisted_2","render","_ctx","_cache","$props","$setup","$data","$options","_component_page_search","_resolveComponent","_component_page_content","_component_el_tree","_component_page_modal","_openBlock","_createElementBlock","_createVNode","searchFormConfig","onQueryClick","contentTableConfig","onHandleNewClick","onHandleEditClick","pageName","modalConfig","otherInfo","otherInfoRef","default","_withCtx","_createElementVNode","data","menus","props","children","label","onCheck","handleCheckChange","_","formItems","field","type","placeholder","title","propList","prop","minWidth","slotName","showSelectColumn","collLayout","span","defineComponent","components","PageSearch","PageContent","PageModal","name","setup","elTreeRef","leafKeys","leafMunuMapKeys","menuList","nextTick","setCheckedKeys","undefined","store","useStore","computed","state","data1","data2","checkedKeys","halfCheckedKeys","__exports__","_component_hy_form","_component_el_button","_component_el_dialog","modelValue","$event","width","center","footer","onClick","_createTextVNode","handleConfirmClick","_mergeProps","formData","_renderSlot","$slots","HyForm","Object","required","String","watch","newValue","console","log","keys","length","dispatch","editData","id","creatData"],"mappings":"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","file":"js/chunk-7f67c908.b8fb75eb.js","sourcesContent":["import { ref } from 'vue'\nimport PageContent from '@/components/page-content'\n\nexport function usePageSearch() {\n  //1、搜索查询\n  const pageContentRef = ref<InstanceType<typeof PageContent>>()\n\n  const queryClick = (qureyInfo: any) => {\n    pageContentRef.value?.getPageData(qureyInfo)\n  }\n  return [pageContentRef, queryClick]\n}\n","import { ref } from 'vue'\nimport PageModal from '@/components/page-modal/index'\n\nconst pageModalRef = ref<InstanceType<typeof PageModal>>()\nconst defaultValue = ref({})\n\nexport function usePageModal(\n  handleNew?: any,\n  handleEdit?: any,\n  headName?: any\n) {\n  //新建\n  const handleNewData = () => {\n    // console.log(headName.value)\n    defaultValue.value = {}\n    if (pageModalRef.value) {\n      pageModalRef.value.dialogVisible = true\n      pageModalRef.value.headName = `新建${headName.value}`\n    }\n    handleNew && handleNew()\n  }\n  //编辑\n  const handleEditData = (item: any) => {\n    // console.log('item:', item)\n    defaultValue.value = { ...item }\n    if (pageModalRef.value) {\n      pageModalRef.value.dialogVisible = true\n      pageModalRef.value.headName = `编辑${headName.value}`\n    }\n    // console.log('点击了编辑按钮')\n    handleEdit && handleEdit()\n  }\n  return [pageModalRef, defaultValue, handleNewData, handleEditData]\n}\n","export * from \"-!../../../../../node_modules/.pnpm/mini-css-extract-plugin@0.9.0_webpack@4.46.0/node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../../../node_modules/.pnpm/css-loader@3.6.0_webpack@4.46.0/node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../../../node_modules/.pnpm/vue-loader@16.8.3_l4c6fk63aalreefgot6be7px2i/node_modules/vue-loader/dist/stylePostLoader.js!../../../../../node_modules/.pnpm/postcss-loader@3.0.0/node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../../../node_modules/.pnpm/less-loader@5.0.0_less@3.13.1/node_modules/less-loader/dist/cjs.js??ref--11-oneOf-1-3!../../../../../node_modules/.pnpm/cache-loader@4.1.0_webpack@4.46.0/node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../../../node_modules/.pnpm/vue-loader@16.8.3_l4c6fk63aalreefgot6be7px2i/node_modules/vue-loader/dist/index.js??ref--1-1!../../../../../node_modules/.pnpm/dom-to-code@1.5.4/node_modules/dom-to-code/dist/webpack-loader.cjs??ref--42-0!./role.vue?vue&type=style&index=0&id=4d74cefe&scoped=true&lang=less\"","import { resolveComponent as _resolveComponent, createVNode as _createVNode, createElementVNode as _createElementVNode, withCtx as _withCtx, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\"\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-4d74cefe\"),n=n(),_popScopeId(),n)\nconst _hoisted_1 = {\n  \"data-code-location\": \"/Users/zhangdashu/Desktop/work/vue3/src/views/main/system/role/role.vue:2:3\",\n  class: \"role\"\n}\nconst _hoisted_2 = {\n  \"data-code-location\": \"/Users/zhangdashu/Desktop/work/vue3/src/views/main/system/role/role.vue:22:7\",\n  class: \"menuTree\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_page_search = _resolveComponent(\"page-search\")!\n  const _component_page_content = _resolveComponent(\"page-content\")!\n  const _component_el_tree = _resolveComponent(\"el-tree\")!\n  const _component_page_modal = _resolveComponent(\"page-modal\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_page_search, {\n      searchFormConfig: _ctx.searchFormConfig,\n      onQueryClick: _ctx.queryClick\n    }, null, 8, [\"searchFormConfig\", \"onQueryClick\"]),\n    _createVNode(_component_page_content, {\n      ref: \"pageContentRef\",\n      contentTableConfig: _ctx.contentTableConfig,\n      onHandleNewClick: _ctx.handleNewData,\n      onHandleEditClick: _ctx.handleEditData,\n      pageName: \"role\",\n      headName: \"新建角色\"\n    }, null, 8, [\"contentTableConfig\", \"onHandleNewClick\", \"onHandleEditClick\"]),\n    _createVNode(_component_page_modal, {\n      modalConfig: _ctx.modalConfig,\n      ref: \"pageModalRef\",\n      otherInfo: _ctx.otherInfoRef,\n      pageName: \"role\",\n      defaultValue: _ctx.defaultValue\n    }, {\n      default: _withCtx(() => [\n        _createElementVNode(\"div\", _hoisted_2, [\n          _createVNode(_component_el_tree, {\n            ref: \"elTreeRef\",\n            data: _ctx.menus,\n            \"show-checkbox\": \"\",\n            \"node-key\": \"id\",\n            props: { children: 'children', label: 'name' },\n            onCheck: _ctx.handleCheckChange\n          }, null, 8, [\"data\", \"onCheck\"])\n        ])\n      ]),\n      _: 1\n    }, 8, [\"modalConfig\", \"otherInfo\", \"defaultValue\"])\n  ]))\n}","export const searchFormConfig = {\n  formItems: [\n    {\n      //传入类型\n      field: 'name',\n      type: 'input',\n      label: '角色名',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '权限介绍',\n      placeholder: '请输入权限介绍'\n    },\n    {\n      field: 'createAt',\n      type: 'datapicker',\n      label: '创建时间',\n      placeholder: '请输入创建时间范围'\n    }\n  ]\n}\n","export const contentTableConfig = {\n  title: '角色列表',\n  propList: [\n    { prop: 'name', label: '角色名', minWidth: '100' },\n    { prop: 'intro', label: '权限介绍', minWidth: '100' },\n    {\n      prop: 'createAt',\n      label: '创建时间',\n      minWidth: '250',\n      slotName: 'createAt'\n    },\n    {\n      prop: 'updateAt',\n      label: '更新时间',\n      minWidth: '250',\n      slotName: 'updateAt'\n    },\n    { label: '操作', minWidth: '150', slotName: 'handle' }\n  ],\n  showSelectColumn: true\n}\n","import { IForm } from '@/base-ui/form'\n\nexport const modalConfig: IForm = {\n  formItems: [\n    {\n      //传入类型  field字段\n      field: 'name',\n      type: 'input',\n      label: '角色名',\n      placeholder: '请输入角色名'\n    },\n    {\n      field: 'intro',\n      type: 'input',\n      label: '权限介绍',\n      placeholder: '请输入权限介绍'\n    }\n  ],\n  collLayout: { span: 24 }\n}\n","\nimport { defineComponent, computed, ref, nextTick } from 'vue'\nimport { useStore } from '@/store'\nimport { leafMunuMapKeys } from '@/utils/map-menus'\nimport { ElTree } from 'element-plus'\n\nimport PageSearch from '@/components/page-search'\nimport PageContent from '@/components/page-content/src/page-content.vue'\nimport PageModal from '@/components/page-modal/src/page-modal.vue'\n\nimport { searchFormConfig } from './config/search.config'\nimport { contentTableConfig } from './config/content.config'\nimport { modalConfig } from './config/modal.config'\n\nimport { usePageSearch } from '@/hooks/use-page-search'\nimport { usePageModal } from '@/hooks/use-page-modal'\n\nexport default defineComponent({\n  components: {\n    PageSearch,\n    PageContent,\n    PageModal\n  },\n  name: 'role',\n  setup() {\n    const headName = ref('角色')\n\n    //处理hook的回调  编辑回显  eltree树形\n    const elTreeRef = ref<InstanceType<typeof ElTree>>()\n    const handleEdit = (item: any) => {\n      const leafKeys = leafMunuMapKeys(item.menuList)\n      nextTick(() => {\n        elTreeRef.value?.setCheckedKeys(leafKeys, false)\n      })\n    }\n\n    const [pageContentRef, queryClick] = usePageSearch()\n    const [pageModalRef, defaultValue, handleNewData, handleEditData] =\n      usePageModal(undefined, handleEdit, headName)\n\n    const store = useStore()\n    const otherInfoRef = ref({})\n\n    //tree数据\n    const menus = computed(() => {\n      return store.state.menuList\n    })\n\n    const handleCheckChange = (data1: any, data2: any) => {\n      const checkedKeys = data2.checkedKeys\n      const halfCheckedKeys = data2.halfCheckedKeys\n      const menuList = [...checkedKeys, ...halfCheckedKeys]\n      otherInfoRef.value = { menuList }\n    }\n    return {\n      searchFormConfig,\n      contentTableConfig,\n      modalConfig,\n      pageContentRef,\n      pageModalRef,\n      defaultValue,\n      handleNewData,\n      handleEditData,\n      queryClick,\n      menus,\n      otherInfoRef,\n      handleCheckChange,\n      elTreeRef\n    }\n  }\n})\n","import { render } from \"./role.vue?vue&type=template&id=4d74cefe&scoped=true&ts=true\"\nimport script from \"./role.vue?vue&type=script&lang=ts\"\nexport * from \"./role.vue?vue&type=script&lang=ts\"\n\nimport \"./role.vue?vue&type=style&index=0&id=4d74cefe&scoped=true&lang=less\"\n\nimport exportComponent from \"/Users/zhangdashu/Desktop/work/vue3/node_modules/.pnpm/vue-loader@16.8.3_l4c6fk63aalreefgot6be7px2i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-4d74cefe\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, mergeProps as _mergeProps, createVNode as _createVNode, renderSlot as _renderSlot, createTextVNode as _createTextVNode, withCtx as _withCtx, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock } from \"vue\"\n\nconst _hoisted_1 = {\n  \"data-code-location\": \"/Users/zhangdashu/Desktop/work/vue3/src/components/page-modal/src/page-modal.vue:2:3\",\n  class: \"page-modal\"\n}\nconst _hoisted_2 = {\n  \"data-code-location\": \"/Users/zhangdashu/Desktop/work/vue3/src/components/page-modal/src/page-modal.vue:13:9\",\n  class: \"dialog-footer\"\n}\n\nexport function render(_ctx: any,_cache: any,$props: any,$setup: any,$data: any,$options: any) {\n  const _component_hy_form = _resolveComponent(\"hy-form\")!\n  const _component_el_button = _resolveComponent(\"el-button\")!\n  const _component_el_dialog = _resolveComponent(\"el-dialog\")!\n\n  return (_openBlock(), _createElementBlock(\"div\", _hoisted_1, [\n    _createVNode(_component_el_dialog, {\n      title: _ctx.headName,\n      modelValue: _ctx.dialogVisible,\n      \"onUpdate:modelValue\": _cache[2] || (_cache[2] = ($event: any) => ((_ctx.dialogVisible) = $event)),\n      width: \"30%\",\n      \"destroy-on-close\": \"\",\n      center: \"\"\n    }, {\n      footer: _withCtx(() => [\n        _createElementVNode(\"span\", _hoisted_2, [\n          _createVNode(_component_el_button, {\n            onClick: _cache[1] || (_cache[1] = ($event: any) => (_ctx.dialogVisible = false))\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\"取 消\")\n            ]),\n            _: 1\n          }),\n          _createVNode(_component_el_button, {\n            type: \"primary\",\n            onClick: _ctx.handleConfirmClick\n          }, {\n            default: _withCtx(() => [\n              _createTextVNode(\" 确 定 \")\n            ]),\n            _: 1\n          }, 8, [\"onClick\"])\n        ])\n      ]),\n      default: _withCtx(() => [\n        _createVNode(_component_hy_form, _mergeProps(_ctx.modalConfig, {\n          modelValue: _ctx.formData,\n          \"onUpdate:modelValue\": _cache[0] || (_cache[0] = ($event: any) => ((_ctx.formData) = $event))\n        }), null, 16, [\"modelValue\"]),\n        _renderSlot(_ctx.$slots, \"default\")\n      ]),\n      _: 3\n    }, 8, [\"title\", \"modelValue\"])\n  ]))\n}","\nimport { defineComponent, ref, watch } from 'vue'\n\nimport { useStore } from '@/store'\n\nimport HyForm from '@/base-ui/form/src/form.vue'\n\nexport default defineComponent({\n  components: {\n    HyForm\n  },\n  props: {\n    modalConfig: {\n      type: Object,\n      default: () => ({})\n    },\n    defaultValue: {\n      type: Object,\n      required: true\n    },\n    otherInfo: {\n      type: Object,\n      default: () => ({})\n    },\n    pageName: {\n      type: String,\n      required: true\n    }\n  },\n  setup(props) {\n    const dialogVisible = ref(false)\n    const formData = ref<any>({})\n    const headName = ref('')\n    // console.log(props.modalConfig.formItems)\n    // console.log('传值:', props.modalConfig.formItems)\n\n    //监听defaultValue 回显作用\n    //传入为get函数 newValue为一个Proxy对象\n    watch(\n      () => props.defaultValue,\n      (newValue) => {\n        console.log('newValue:', newValue)\n        console.log('传值:', props.modalConfig.formItems)\n        for (const item of props.modalConfig.formItems) {\n          formData.value[`${item.field}`] = newValue[`${item.field}`]\n        }\n      }\n    )\n\n    //确定按钮的逻辑\n    const store = useStore()\n    const handleConfirmClick = () => {\n      dialogVisible.value = false\n      if (Object.keys(props.defaultValue).length) {\n        //编辑\n        store.dispatch('system/editPageDataAction', {\n          pageName: props.pageName,\n          editData: { ...formData.value, ...props.otherInfo },\n          id: props.defaultValue.id\n        })\n      } else {\n        //新建\n        // console.log('新建用户')\n        store.dispatch('system/creatPageDataAction', {\n          pageName: props.pageName,\n          creatData: { ...formData.value, ...props.otherInfo }\n        })\n      }\n    }\n\n    return {\n      dialogVisible,\n      formData,\n      handleConfirmClick,\n      headName\n    }\n  }\n})\n","import { render } from \"./page-modal.vue?vue&type=template&id=5bba5da2&ts=true\"\nimport script from \"./page-modal.vue?vue&type=script&lang=ts\"\nexport * from \"./page-modal.vue?vue&type=script&lang=ts\"\n\nimport exportComponent from \"/Users/zhangdashu/Desktop/work/vue3/node_modules/.pnpm/vue-loader@16.8.3_l4c6fk63aalreefgot6be7px2i/node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import PageSearch from './src/page-search.vue'\n\nexport default PageSearch\n"],"sourceRoot":""}