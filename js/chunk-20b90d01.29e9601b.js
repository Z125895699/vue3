(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-20b90d01"],{"078e":function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var o=a("707f");function l(){const e=Object(o["ref"])(),t=t=>{var a;null===(a=e.value)||void 0===a||a.getPageData(t)};return[e,t]}},"6a85c":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a("707f");const l=Object(o["ref"])(),n=Object(o["ref"])({});function c(e,t,a){const o=()=>{n.value={},l.value&&(l.value.dialogVisible=!0,l.value.headName="新建"+a.value),e&&e()},c=e=>{n.value={...e},l.value&&(l.value.dialogVisible=!0,l.value.headName="编辑"+a.value),t&&t()};return[l,n,o,c]}},a357:function(e,t,a){"use strict";a("e6bf")},bf7e:function(e,t,a){"use strict";a.r(t);var o=a("707f");const l={"data-code-location":"/home/runner/work/vue3/vue3/src/views/main/system/role/role.vue:2:3",class:"role"},n={"data-code-location":"/home/runner/work/vue3/vue3/src/views/main/system/role/role.vue:22:7",class:"menuTree"};function c(e,t,a,c,r,d){const i=Object(o["resolveComponent"])("page-search"),u=Object(o["resolveComponent"])("page-content"),s=Object(o["resolveComponent"])("el-tree"),f=Object(o["resolveComponent"])("page-modal");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(i,{searchFormConfig:e.searchFormConfig,onQueryClick:e.queryClick},null,8,["searchFormConfig","onQueryClick"]),Object(o["createVNode"])(u,{ref:"pageContentRef",contentTableConfig:e.contentTableConfig,onHandleNewClick:e.handleNewData,onHandleEditClick:e.handleEditData,pageName:"role",headName:"新建角色"},null,8,["contentTableConfig","onHandleNewClick","onHandleEditClick"]),Object(o["createVNode"])(f,{modalConfig:e.modalConfig,ref:"pageModalRef",otherInfo:e.otherInfoRef,pageName:"role",defaultValue:e.defaultValue},{default:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("div",n,[Object(o["createVNode"])(s,{ref:"elTreeRef",data:e.menus,"show-checkbox":"","node-key":"id",props:{children:"children",label:"name"},onCheck:e.handleCheckChange},null,8,["data","onCheck"])])]),_:1},8,["modalConfig","otherInfo","defaultValue"])])}var r=a("0613"),d=a("09e6"),i=a("fe8c"),u=a("309c"),s=a("c9d2");const f={formItems:[{field:"name",type:"input",label:"角色名",placeholder:"请输入角色名"},{field:"intro",type:"input",label:"权限介绍",placeholder:"请输入权限介绍"},{field:"createAt",type:"datapicker",label:"创建时间",placeholder:"请输入创建时间范围"}]},m={title:"角色列表",propList:[{prop:"name",label:"角色名",minWidth:"100"},{prop:"intro",label:"权限介绍",minWidth:"100"},{prop:"createAt",label:"创建时间",minWidth:"250",slotName:"createAt"},{prop:"updateAt",label:"更新时间",minWidth:"250",slotName:"updateAt"},{label:"操作",minWidth:"150",slotName:"handle"}],showSelectColumn:!0},p={formItems:[{field:"name",type:"input",label:"角色名",placeholder:"请输入角色名"},{field:"intro",type:"input",label:"权限介绍",placeholder:"请输入权限介绍"}],collLayout:{span:24}};var b=a("078e"),h=a("6a85c"),g=Object(o["defineComponent"])({components:{PageSearch:i["a"],PageContent:u["a"],PageModal:s["a"]},name:"role",setup(){const e=Object(o["ref"])("角色"),t=Object(o["ref"])(),a=e=>{const a=Object(d["b"])(e.menuList);Object(o["nextTick"])(()=>{var e;null===(e=t.value)||void 0===e||e.setCheckedKeys(a,!1)})},[l,n]=Object(b["a"])(),[c,i,u,s]=Object(h["a"])(void 0,a,e),g=Object(r["c"])(),C=Object(o["ref"])({}),v=Object(o["computed"])(()=>g.state.menuList),j=(e,t)=>{const a=t.checkedKeys,o=t.halfCheckedKeys,l=[...a,...o];C.value={menuList:l}};return{searchFormConfig:f,contentTableConfig:m,modalConfig:p,pageContentRef:l,pageModalRef:c,defaultValue:i,handleNewData:u,handleEditData:s,queryClick:n,menus:v,otherInfoRef:C,handleCheckChange:j,elTreeRef:t}}}),C=(a("a357"),a("6865")),v=a.n(C);const j=v()(g,[["render",c],["__scopeId","data-v-5e79ed5e"]]);t["default"]=j},c9d2:function(e,t,a){"use strict";var o=a("707f");const l={"data-code-location":"/home/runner/work/vue3/vue3/src/components/page-modal/src/page-modal.vue:2:3",class:"page-modal"},n={"data-code-location":"/home/runner/work/vue3/vue3/src/components/page-modal/src/page-modal.vue:13:9",class:"dialog-footer"};function c(e,t,a,c,r,d){const i=Object(o["resolveComponent"])("hy-form"),u=Object(o["resolveComponent"])("el-button"),s=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",l,[Object(o["createVNode"])(s,{title:e.headName,modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=t=>e.dialogVisible=t),width:"30%","destroy-on-close":"",center:""},{footer:Object(o["withCtx"])(()=>[Object(o["createElementVNode"])("span",n,[Object(o["createVNode"])(u,{onClick:t[1]||(t[1]=t=>e.dialogVisible=!1)},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])("取 消")]),_:1}),Object(o["createVNode"])(u,{type:"primary",onClick:e.handleConfirmClick},{default:Object(o["withCtx"])(()=>[Object(o["createTextVNode"])(" 确 定 ")]),_:1},8,["onClick"])])]),default:Object(o["withCtx"])(()=>[Object(o["createVNode"])(i,Object(o["mergeProps"])(e.modalConfig,{modelValue:e.formData,"onUpdate:modelValue":t[0]||(t[0]=t=>e.formData=t)}),null,16,["modelValue"]),Object(o["renderSlot"])(e.$slots,"default")]),_:3},8,["title","modelValue"])])}var r=a("0613"),d=a("6fac"),i=Object(o["defineComponent"])({components:{HyForm:d["a"]},props:{modalConfig:{type:Object,default:()=>({})},defaultValue:{type:Object,required:!0},otherInfo:{type:Object,default:()=>({})},pageName:{type:String,required:!0}},setup(e){const t=Object(o["ref"])(!1),a=Object(o["ref"])({}),l=Object(o["ref"])("");Object(o["watch"])(()=>e.defaultValue,t=>{console.log("newValue:",t),console.log("传值:",e.modalConfig.formItems);for(const o of e.modalConfig.formItems)a.value[""+o.field]=t[""+o.field]});const n=Object(r["c"])(),c=()=>{t.value=!1,Object.keys(e.defaultValue).length?n.dispatch("system/editPageDataAction",{pageName:e.pageName,editData:{...a.value,...e.otherInfo},id:e.defaultValue.id}):n.dispatch("system/creatPageDataAction",{pageName:e.pageName,creatData:{...a.value,...e.otherInfo}})};return{dialogVisible:t,formData:a,handleConfirmClick:c,headName:l}}}),u=a("6865"),s=a.n(u);const f=s()(i,[["render",c]]);t["a"]=f},e6bf:function(e,t,a){},fe8c:function(e,t,a){"use strict";var o=a("fae0");t["a"]=o["a"]}}]);
//# sourceMappingURL=chunk-20b90d01.29e9601b.js.map